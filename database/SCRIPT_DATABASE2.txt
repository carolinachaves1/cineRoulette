CREATE DATABASE cineroullet;

CREATE TABLE DIRETOR(
	COD_DIRETOR INT NOT NULL AUTO_INCREMENT,
    NOME VARCHAR(100),
    PRIMARY KEY(COD_DIRETOR));
    
CREATE TABLE GENERO(
	COD_GENERO INT NOT NULL AUTO_INCREMENT,
    GENERO VARCHAR(100),
    PRIMARY KEY(COD_GENERO));
    
CREATE TABLE CARTAZ(
	COD_CARTAZ INT NOT NULL AUTO_INCREMENT,
    IMAGEM VARCHAR(100),
    COD_FILME INT NOT NULL,
    PRIMARY KEY(COD_CARTAZ));

CREATE TABLE FILME(
	COD_FILME INT NOT NULL AUTO_INCREMENT,
    TITULO VARCHAR(100) NOT NULL,
    DT_LANCAMENTO DATE,
    SINOPSE TEXT(1000),
    DIRETOR_COD_DIRETOR INT NOT NULL,
    GENERO_COD_GENERO INT NOT NULL,
    PRIMARY KEY(COD_FILME));
    
ALTER TABLE FILME ADD CONSTRAINT FK_COD_DIRETOR foreign key(DIRETOR_COD_DIRETOR) REFERENCES DIRETOR(COD_DIRETOR);
ALTER TABLE FILME ADD CONSTRAINT FK_COD_GENERO foreign key(GENERO_COD_GENERO) REFERENCES GENERO(COD_GENERO);
ALTER TABLE FILME ADD CONSTRAINT FK_COD_CARTAZ foreign key(CARTAZ_COD_CARTAZ) REFERENCES CARTAZ(COD_CARTAZ);    
ALTER TABLE CARTAZ ADD CONSTRAINT FK_COD_FILME foreign key(COD_FILME) REFERENCES FILME(COD_FILME);    